# Le constructeur et l'instanciation (création) d'objets

## 1. Définition du constructeur

Un *constructeur* est une **méthode spéciale** qui **initialise les attributs d'un objet** lors de sa création. Le constructeur est une méthode spéciale pour 2 raisons :

1. Il porte toujours le **même nom que la classe**
2. Il ne retourne rien (jamais d'instruction `return`) : il **crée un objet** de la classe qui peut ainsi être associé à une référence (via une variable)

En Java, si aucun constructeur n'est défini, un **constructeur par défaut** est fourni automatiquement par le compilateur. Il est cependant possible (et recommandé) de fournir l'implémentation du constructeur par défaut de la classe.

Lorsqu'on **crée** un objet, on parle d'**instanciation** d'un objet de la classe, ou de la **création d'une instance** de la classe. Toutes ces expressions sont équivalentes.

## 2. Constructeur par défaut (du compilateur)

Le constructeur par défaut généré par le compilateur est un constructeur **sans paramètre** qui va initialiser les différents types de données aux valeurs suivantes :

|Type d'attribut||Valeur attribuée par le constructeur par défaut|
|---|---|---|
|Type primitif|`int`&#10;|`0`|
||`double`|`0.0`|
||`boolean`|`false`|
||`char`|`\u000` (caractère nul, non visible)|
|Type référence (objets)|`String`, `Scanner`, tableaux, objets personnalisés, etc.|`null`|

## 3. Utilisation (appel) du constructeur

L'utilisation d'un constructeur de classe se fait à l'aide du mot-clé `new` qui précède l'appel du constructeur. On l'utilise généralement lors de la déclaration / initialisation d'une variable.

À *gauche* de l'affectation (du symbole `=`) on va retouver :

- le **type** de l'objet (nom de la classe)
- le **nom de la variable** référence vers l'objet

À *droite* de l'affectation (du symbole `=`) on va retouver :

- le mot-clé `new`
- l'appel au constructeur (le nom de la classe accompagné de `()` [vides dans le cas du constructeur par défaut])

### Exemples d'appels de constructeurs par défaut

```java
// Instanciation d'un objet de la classe String
String chaine = new String();
// Création d'un objet de type Voiture
Voiture maVoiture = new Voiture();
// Création d'une instance de la classe Porte
Porte porte1 = new Porte();
```

## 4. Accès aux attributs et aux méthodes d'un objet

Afin d'accéder aux différents attributs et aux méthodes d'une instance d'un objet, on utilise l'opérateur `.` (point) suivant le nom de la variable référence. Selon la visibilité (`public`, `protected`, *package* ou `private`) des attributs et des méthodes, votre logiciel de code vous fournit automatiquement la liste des éléments visibles lorsque vous relâcher la touche `.`.

### Exemples d'accès aux attributs et méthodes d'une instance

```java
System.out.println(chaine.length());    // méthode `length()` de la classe String
System.out.println(maVoiture.annee);    // attribut `annee` de la classe Voiture
System.out.println(porte1.estOuverte);  // attribut `estOuverte` de la classe Porte
```

### EXERCICE : Constructeur automatique

À l'aide des classes `Voiture` et `Porte`, créer un objet de chaque classe et faire afficher chacun des attributs en console. Quelles sont les valeurs?

## 5. Implémentation du constructeur par défaut

Tel que mentionné précédemment, il est habituel et recommandé de définir le comportement du constructeur par défaut. Il est utilisé pour initialiser les attributs d'instance aux valeurs réellement voulues par le concepteur (vous!).

Ainsi, pour la `Voiture`, nous pourrions avoir ce constructeur par défaut :

```java
public Voiture() {
    marque = "Inconnue";
    modele = "Inconnu";
    annee = 2000;
    enMarche = false;
    position = 0.0;
    proprietaire = "Inconnu"
}
```

### EXERCICE : Constructeur redéfini

Définissez un constructeur par défaut pour les classes `Voiture` et `Porte`, puis créer un objet de chaque classe et faire afficher chacun des attributs en console. Quelles sont les valeurs? Sont-elles les mêmes que précédemment?
